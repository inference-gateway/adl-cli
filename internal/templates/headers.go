package templates

import (
	"fmt"
	"strings"
	"time"
)

// GetGeneratedFileHeader returns the appropriate header for generated files
func GetGeneratedFileHeader(fileType string, cliVersion string, generatedAt time.Time) string {
	timestamp := generatedAt.Format("2006-01-02 15:04:05")
	headerText := fmt.Sprintf(`Code generated by ADL CLI v%s on %s. DO NOT EDIT.
This file was automatically generated from an ADL (Agent Definition Language) specification.
Manual changes to this file may be overwritten during regeneration.`, cliVersion, timestamp)

	switch fileType {
	case "go", "rust", "typescript", "javascript":
		return "// " + strings.ReplaceAll(headerText, "\n", "\n// ") + "\n\n"
	case "yaml", "dockerfile", "taskfile":
		return "# " + strings.ReplaceAll(headerText, "\n", "\n# ") + "\n\n"
	default:
		return ""
	}
}
