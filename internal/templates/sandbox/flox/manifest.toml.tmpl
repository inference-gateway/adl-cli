version = 1

[install]
{{- if eq .Language "go" }}
go.pkg-path = "go"
go.version = "{{ .ADL.Spec.Language.Go.Version }}"

golangci-lint.pkg-path = "golangci-lint"
golangci-lint.version = "2.5.0"
golangci-lint.pkg-group = "common"

{{- else if eq .Language "rust" }}
cargo.pkg-path = "cargo"
cargo.version = "1.89.0"
cargo.pkg-group = "rust-toolchain"

rustc.pkg-path = "rustc"
rustc.version = "1.89.0"
rustc.pkg-group = "rust-toolchain"

clippy.pkg-path = "clippy"
clippy.version = "1.89.0"
clippy.pkg-group = "rust-toolchain"

rustfmt.pkg-path = "rustfmt"
rustfmt.version = "1.89.0"
rustfmt.pkg-group = "rust-toolchain"

rust-analyzer.pkg-path = "rust-analyzer"
rust-analyzer.version = "2025-08-25"
rust-analyzer.pkg-group = "rust-analyzer"
{{- else if eq .Language "typescript" }}
nodejs = { version = "20" }
{{- end }}

go-task.pkg-path = "go-task"
go-task.version = "^3.45.4"
go-task.pkg-group = "common"

git.pkg-path = "git"
git.version = "2.51.0"
git.pkg-group = "common"

docker.pkg-path = "docker"
docker.version = "28.4.0"
docker.pkg-group = "common"
{{- if .EnableAI }}

claude-code.pkg-path = "claude-code"
claude-code.pkg-group = "common"
claude-code.version = "^2.0.1"
{{- end }}

[hook]
on-activate = '''
  echo "ðŸŒŸ Welcome to {{ .ADL.Metadata.Name }} development environment!"
  {{- if eq .Language "go" }}
  echo "Go version: $(go version)"
  {{- else if eq .Language "rust" }}
  echo "Rust version: $(rustc --version)"
  {{- else if eq .Language "typescript" }}
  echo "Node version: $(node --version)"
  {{- end }}
'''
